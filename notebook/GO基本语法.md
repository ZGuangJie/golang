## GO程序基本结构和要素

### 1、基本数据类型

​	（1）常量：常量使用关键字 `const` 定义，用于存储不会改变的数据。存储在常量中的数据类型只可以是==布尔型、数字型（整数型、浮点型和复数）和字符串型==。

```go
// Define: const identifier [type] = value
const Pi = 3.14159
```

​	**常量的值必须是能够在编译时就能够确定的；你可以在其赋值表达式中涉及计算过程，但是所有用于计算的值必须在编译期间就能获得**。	错误示范：

```go
// 在编译期间自定义函数属于未知，因此无法用于常数的赋值
const c2 = getNumber()
// 内置函数可以使用，比如：len()
const Ln2= 0.693147180559945309417232121458\
            176568075500134360255254120680009
const Log2E= 1/Ln2 // this is a precise reciprocal
const Billion = 1e9 // float constant
const hardEight = (1 << 100) >> 97
```



（2）变量：声明变量的一般形式是使用 `var` 关键字：`var identifier type`。GO语言在声明变量时将变量的类型放在变量名之后，是为了避免像C语言那样含糊不清的形式。

```go
// 将a、b都声明为指针类型
var a, b *int
// 定义变量时也可以写成下面这种形式（一般用于声明全局变量）
var (
    a int
    b bool
    str string
)
```

​	变量的命名规则遵循骆驼命名法，即首个单词小写，每个新单词的首字母大写，例如：`numShips` 和 `startDate`。==当一个变量被声明之后，系统自动赋予它该类型的零值：int 为 0，float 为 0.0，bool 为 false，string 为空字符串，指针为 nil。记住，所有的内存在 Go 中都是经过初始化的。==

### 2、值类型和引用类型

​	像 int、float、bool 和 string 这些基本类型都属于值类型，==使用这些类型的变量直接指向存在内存中的值==。

<img src="E:\技术使用总结笔记\GO\notebook\img\值赋值.png" style="zoom:50%;" />               <img src="E:\技术使用总结笔记\GO\notebook\img\值拷贝.png" style="zoom: 50%;" />

​		当使用等号 `=` 将一个变量的值赋值给另一个变量时，如：`j = i`，实际上是在内存中将 i 的值进行了拷贝。如图4.2

​	**可以通过 &i 来获取变量 i 的内存地址**，例如：0xf840000040（每次的地址都可能不一样）。值类型的变量的值存储在栈中。内存地址会根据机器的不同而有所不同，甚至相同的程序在不同的机器上执行后也会有不同的内存地址。因为每台机器可能有不同的存储器布局，并且位置分配也可能不同。s

### 3、使用 := 赋值操作符

​	**变量的初始化时省略变量的类型而由系统自动推断**，而这个时候再最后一个声明语句写上 var 关键字就显得有些多余了，因此我们可以将它们简写为 a := 50 或 b := false。a 和 b 的类型（int 和 bool）将由编译器自动推断。==使用操作符 `:=` 可以高效地创建一个新的变量，称之为初始化声明==。

​	

```go
// 变量的定义和赋值的两种方式

// 先定义后赋值
var a, b, c int
a, b, c = 5, 7, 9
```







### 、打印输出

​	占位符`%s` 代表字符串标识符、`%v` 代表使用类型的默认输出格式的标识符。函数 `fmt.Sprintf` 与 `Printf` 的作用是完全相同的，不过前者将格式化后的字符串以返回值的形式返回给调用者，因此你可以在程序中使用包含变量的字符串。



### 、包的概念

​	每个GO程序都由包（通常简称为 pkg）的概念组成，可以使用自身的包或者从其它包中导入内容。如同其它一些编程语言中的类库或命名空间的概念，==每个 Go 文件都属于且仅属于一个包==。一个包可以由许多以 .go 为扩展名的源文件组成，因此文件名和包名一般来说都是不相同的。

```go
package main

import "fmt"

func main() {
    fmt.Println("hello, world")
}
```

​	GO程序必须在源文件中非注释的第一行指明这个文件属于哪个包，如：package main。package main 表示一个可独立执行的程序，每个 Go 应用程序都包含一个名为 main 的包。一个应用程序可以包含不同的包，而且即使你只使用 main 包也不必把所有的代码都写在一个巨大的文件里：你可以用一些较小的文件，并且在每个文件非注释的第一行都使用 package main 来指明这些文件都属于 main 包。**如果你打算编译包名不是为 main 的源文件，如 pack1，编译后产生的对象文件将会是 pack1.a 而不是可执行程序**。另外要注意的是，所有的包名都应该使用小写字母。

### 2、包的导入

​	构建一个程序时包和包内的文件都必须以正确的顺序进行编译，**包的依赖关系决定了其构建顺序**。==属于同一个包的源文件必须全部被一起编译，一个包即是编译时的一个单元==，因此根据惯例，每个目录都只包含一个包。**如果对一个包进行更改或重新编译，所有引用了这个包的客户端程序都必须全部重新编译**。

```go
// 导入包的两种方式
// 直接导入
import "fmt"
import "os"

//第二种，因式分解关键字
import (
   "fmt"
   "os"
)
```